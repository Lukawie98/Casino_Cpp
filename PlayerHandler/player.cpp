#include "player.hpp"

Player::Player(
        const std::string & name,
        int accBalance)
    : name_(name)               
    , accBalance_(accBalance)
{}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////    

void Player::show() const
{
    std::cout << this->name_ <<": $" << this->accBalance_;
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////  
void Player::displayName() const
{
    std::cout << this->name_;
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////  

void Player::setName()
{
    std::string name;
    std::getline(std::cin, this->name_);
}

std::string Player::getName() const
{
    return this->name_;
}
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////  

void Player::setAccBalance(int accBalance)
{
    this->accBalance_ = accBalance;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

int Player::getAccBalance() const
{
    return this->accBalance_;
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////  

void Player::setBetNumber()
{
    std::cin >> this->betNumber_;
}

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////  

int Player::getBetNumber() const
{
    return this->betNumber_;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

void Player::setBetAmount()
{
    std::cin >> betAmount_;
    checkingIfBetIsTooHigh(); 

    this->accBalance_ -= this->betAmount_;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

void Player::checkingIfBetIsTooHigh()
{
     while(this->betAmount_ > this->accBalance_)
    {
        std::cout << "Not enough funds in the account, try one more time:";
        std::cin >> this->betAmount_;
    }
}
////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

int Player::getBetAmount() const
{
    return this->betAmount_;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

void Player::addToAccBalance(int wonBet)
{
    this->accBalance_ += wonBet;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

void Player::setBetOption()
{
    std::cin >> this->betOption_;
    
    while(this->betOption_ < '1' || this->betOption_ > '7')
    {
        std::cout << "You have to choose option: 1 - 7\nTry one more time:";
        std::cin >> this->betOption_;
    }
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

char Player::getBetOption() const
{
    return this->betOption_;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

int Player::getOptionSwitch() const
{
    return this->optionSwitch_;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////// 

void Player::setOptionSwitch(int optionSwitch)
{
    this->optionSwitch_ = optionSwitch;
}